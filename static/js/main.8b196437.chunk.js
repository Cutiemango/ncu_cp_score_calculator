(this.webpackJsonpncu_cp_score_calculator=this.webpackJsonpncu_cp_score_calculator||[]).push([[0],{117:function(e,t){},119:function(e,t){},130:function(e,t){},132:function(e,t){},159:function(e,t){},161:function(e,t){},162:function(e,t){},167:function(e,t){},169:function(e,t){},188:function(e,t){},200:function(e,t){},203:function(e,t){},206:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(5),s=n(105),o=n.n(s),a=n(31),i=n(54),u=n(55),d=n.n(u),h=n(106),l=n(25);var j=function(e){var t=e.submissions,n=e.rating,s=e.contests,o={295849:{index:1,maxProb:"J"},296944:{index:2,maxProb:"G"},298568:{index:3,maxProb:"H"},301125:{index:4,maxProb:"D"},304895:{index:5,maxProb:"I"},308133:{index:6,maxProb:"K"}},a=["A","B","C","D","E","F","G","H","I","J","K"],i={1:[],2:["E"],3:["C","E"],4:["B","C"],5:["A","B","C","D","E","H","I"],6:["A","B","F","G","H","I","J","K"]},u={1:[],2:["F","G"],3:["G","H"],4:["D"],5:["F","G"],6:["C","D","E"]},d={800:2,1299:5,1599:10,1899:15,3e3:100},h={1:[],2:[],3:[],4:[],5:[],6:[]},l=0,j=0;t.length>0&&t.forEach((function(e){if("OK"===e.verdict&&o.hasOwnProperty(e.contestId)){var t=o[e.contestId].index,n=h[t];n.includes(e.problem.index)||n.push(e.problem.index),h[t]=n}}));var b=function(e){if(void 0===e||-1===e)return 0;for(var t in d)if(e<t)return d[t];return 0};return Object(c.jsxs)(r.Fragment,{children:[Object(c.jsx)("h1",{id:"title",children:"Fetch Results: "}),Object(c.jsx)("h4",{children:"\u2228 = not assigned problems, accepted"}),Object(c.jsx)("h4",{children:"\u2713 = assigned problems, accepted"}),Object(c.jsx)("h4",{children:"\u2717 = assigned problems, not finished"}),Object(c.jsx)("h4",{children:"\uff1f = no record"}),Object(c.jsx)(r.Fragment,{children:Object(c.jsx)("table",{id:"table",children:Object(c.jsxs)("tbody",{children:[Object(c.jsx)("tr",{children:Object(c.jsxs)(r.Fragment,{children:[Object(c.jsx)("th",{children:"Contest No."}),a.map((function(e,t){return Object(c.jsx)("th",{children:e},t)}))]})}),Object.keys(o).map((function(e,t){var n=o[e].index,r=o[e].maxProb,s=h[n];return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:n}),a.map((function(e,t){if(e>r)return Object(c.jsx)("td",{children:" "},t);var o=i[n].includes(e),a=u[n].includes(e);return s.includes(e)?(o?l++:a&&j++,Object(c.jsx)("td",{children:o||a?"\u2713":"\u2228"},t)):Object(c.jsx)("td",{children:o||a?"\u2717":"\uff1f"},t)}))]},e)}))]})})}),function(){var e=8*Math.min(l,9)+5*Math.min(j,5)+b(n)+Math.min(5*s,20);return Object(c.jsxs)(r.Fragment,{children:[Object(c.jsxs)("h3",{children:["You have solved (",l,"/9) basic problems. (+",8*Math.min(l,9),")"]}),Object(c.jsxs)("h3",{children:["You have solved (",j,"/5) bonus problems. (+",5*Math.min(j,5),")"]}),Object(c.jsx)("h3",{children:-1===n?"You are unrated! (+0)":"Your rating is ".concat(n,". (+").concat(b(n),")")}),Object(c.jsx)("h3",{children:0===s?"You have not participated any rated contests. (+0)":"Woohoo! You have participated (".concat(s,"/4) rated contest(s). (+").concat(Math.min(5*s,20),")")}),Object(c.jsx)("p",{}),Object(c.jsxs)("h3",{children:["Your estimated score is ",e," points."]})]})}()]})},b=n(113);var f=function(){var e=Object(r.useState)({handle:"",key:"",secret:""}),t=Object(l.a)(e,2),n=t[0],s=t[1],o=Object(r.useState)([]),u=Object(l.a)(o,2),f=u[0],x=u[1],p=Object(r.useState)(-1),O=Object(l.a)(p,2),m=O[0],v=O[1],g=Object(r.useState)(0),y=Object(l.a)(g,2),k=y[0],I=y[1],E=n.handle,F=n.key,P=n.secret,Y=function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,c,r,s,o,a,i,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n="https://codeforces.com/api/user.rating?handle=".concat(E),e.prev=2,e.next=5,fetch(n,{});case 5:return c=e.sent,e.next=8,c.json();case 8:e.sent.result.forEach((function(e){e.contestId>=1409&&t.push(e.contestId)})),r=0,s=0;case 12:if(!(s<t.length)){e.next=29;break}if(!(r>=4)){e.next=15;break}return e.abrupt("break",29);case 15:return o=t[s],console.log("Fetching contest: "+o),a="https://codeforces.com/api/contest.standings?contestId=".concat(o,"&handles=").concat(E),e.next=20,fetch(a,{});case 20:return i=e.sent,e.next=23,i.json();case 23:u=e.sent,console.log(u),u.result.rows[0].problemResults.find((function(e){return e.points>0}))&&r++;case 26:s++,e.next=12;break;case 29:I(r),e.next=35;break;case 32:e.prev=32,e.t0=e.catch(2),console.log("Error: ",e.t0);case 35:case"end":return e.stop()}}),e,null,[[2,32]])})));return function(){return e.apply(this,arguments)}}(),C=function(e){e.preventDefault(),s((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(a.a)({},e.target.name,e.target.value))}))};return Object(c.jsx)("div",{id:"codeforces_credentials",children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(){var e=Math.floor(9e5*Math.random()+1e5),t={apiKey:F,count:500,handle:E,time:Math.floor(Date.now()/1e3)},n="".concat(e,"/user.status?");n+=Object.keys(t).map((function(e,n){return"".concat(e,"=").concat(t[e])})).join("&"),n+="#".concat(P);var c=b.createHash("sha512").update(n).digest("hex");t.apiSig="".concat(e).concat(c);var r="https://codeforces.com/api/user.status?";r+=Object.keys(t).map((function(e,n){return"".concat(e,"=").concat(t[e])})).join("&"),console.log(r),fetch(r,{}).then((function(e){return e.json()})).then((function(e){x(e.result)}),(function(e){console.log("Error: ",e)}))}(),function(){var e="https://codeforces.com/api/user.info?handles=".concat(E);fetch(e,{}).then((function(e){return e.json()})).then((function(e){v(void 0===e.result[0].rating?-1:e.result[0].rating)}),(function(e){console.log("Error: ",e)}))}(),Y()},children:[Object(c.jsxs)("p",{children:["Handle is: ",E]}),Object(c.jsx)("p",{children:Object(c.jsx)("input",{name:"handle",type:"text",placeholder:"Your codeforces handle",value:E,onChange:C})}),Object(c.jsxs)("p",{children:["Key is: ",F]}),Object(c.jsx)("p",{children:Object(c.jsx)("input",{name:"key",type:"text",placeholder:"Your codeforces API key",value:F,onChange:C})}),Object(c.jsxs)("p",{children:["Secret is: ",P]}),Object(c.jsx)("p",{children:Object(c.jsx)("input",{name:"secret",type:"text",placeholder:"Your codeforces API secret",value:P,onChange:C})}),Object(c.jsx)("p",{children:Object(c.jsx)("button",{children:"Fetch results"})}),f.length>0&&Object(c.jsx)(j,{submissions:f,rating:m,contests:k})]})})};o.a.render(Object(c.jsx)(f,{}),document.getElementById("root"))}},[[206,1,2]]]);
//# sourceMappingURL=main.8b196437.chunk.js.map